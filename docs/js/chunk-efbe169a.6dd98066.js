(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efbe169a"],{"0015":function(t,e,s){"use strict";var a=s("ee5f"),n=s.n(a);n.a},"369d":function(t,e,s){},"690a":function(t,e,s){t.exports=s.p+"img/avatar.ad37a90c.png"},"9cc4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"index"}},[s("el-container",{attrs:{id:"horContainer",direction:"horizontal"}},[s("my-side"),s("el-container",{attrs:{id:"verContainer",direction:"vertical"}},[s("my-header"),s("el-main",{attrs:{id:"main"}},[s("transition",{attrs:{name:"el-fade-in-linear",mode:"out-in"}},[s("router-view")],1)],1)],1)],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-header",{attrs:{id:"header",height:"50px"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"header-left"},[a("el-breadcrumb",{staticClass:"header-breadcrumb"},t._l(t.breadcrumb,function(e,s){return a("el-breadcrumb-item",{key:s,attrs:{to:e.path}},[t._v(t._s(e.meta.title||t.$t("routes."+e.name)))])}))],1),a("div",{staticClass:"header-right"},[a("div",{staticClass:"right-item"},[a("el-dropdown",{attrs:{placement:"top-end"},on:{command:t.onLanguageSelected}},[a("div",{staticClass:"i18n"},[a("span",[t._v(t._s(t.$t("translations")))]),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"zh",disabled:"zh"===t.language}},[t._v("中文")]),a("el-dropdown-item",{attrs:{command:"en",disabled:"en"===t.language}},[t._v("English")])],1)],1)],1),a("div",{staticClass:"right-item"},[t.user?a("div",{staticClass:"user"},[a("el-dropdown",{attrs:{placement:"top-end"},on:{command:t.onUserSelected}},[a("div",{staticClass:"user-info"},[""===t.user.headimgurl?a("img",{attrs:{src:s("690a")}}):a("img",{attrs:{src:t.user.headimgurl}}),a("span",[t._v(t._s(t.user.nickname))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("Mission State")]),a("el-dropdown-item",{staticStyle:{"text-align":"center"}},[a("i",{staticClass:"iconfont icon-fenxi",style:"color: "+t.netAnalysisColor}),t._v(t._s(t.formatSeconds(t.$store.state.netAnalysis)))]),a("el-dropdown-item",{staticStyle:{"text-align":"center"}},[a("i",{staticClass:"iconfont icon-timeSeries",style:"color: "+t.cpacColor}),t._v(t._s(t.formatSeconds(t.$store.state.fmri)))]),a("el-dropdown-item",{attrs:{divided:"",command:"exit"}},[t._v(t._s(t.$t("logOut")))])],1)],1)],1):t._e()])])])])},r=[],o=(s("7f7f"),s("c93e")),c=(s("cadf"),s("551c"),s("097d"),s("2f62")),l={name:"my-header",data:function(){return{breadcrumb:"",netAnalysisColor:"black",cpacColor:"black",imgUrl:s("690a"),time:0}},computed:Object(o["a"])({},Object(c["b"])(["user","language"])),watch:{$route:function(){this.getBreadcrumb()},"$store.state.netAnalysis.state":function(){var t=this.$store.state.netAnalysis,e=t.state;if("finish"===e)this.netAnalysisColor="black";else if("submitted"===e)this.netAnalysisColor="orange";else if("running"===e){this.netAnalysisColor="#5daf34";var s=setInterval(function(){t.time++,"running"!==t.state&&clearInterval(s)},1e3)}},"$store.state.cpac.state":function(){var t=this.$store.state.cpac,e=t.state;if("finish"===e||"error"===e)this.cpacColor="black";else if("submitted"===e)this.cpacColor="orange";else if("running"===e){this.cpacColor="#5daf34";var s=setInterval(function(){t.time++,"running"!==t.state&&clearInterval(s)},1e3)}}},mounted:function(){this.getBreadcrumb(),window.addEventListener("unload",this.saveState);var t=sessionStorage.getItem("gretna");null!=t&&(t=JSON.parse(t),this.$store.state.netAnalysis.time=t.time,this.$store.state.netAnalysis.state=t.state),t=sessionStorage.getItem("fmri"),null!=t&&(t=JSON.parse(t),this.$store.state.fmri.time=t.time,this.$store.state.fmri.state=t.state)},methods:{saveState:function(){var t=this.$store.state.netAnalysis,e=this.$store.state.fmri;sessionStorage.setItem("gretna",JSON.stringify({state:t.state,time:t.time})),sessionStorage.setItem("fmri",JSON.stringify({state:e.state,time:e.time}))},formatSeconds:function(t){var e=t.time;if("running"!==t.state)return"";var s=parseInt(e),a=0,n=0;s>60&&(a=parseInt(s/60),s=parseInt(s%60),a>60&&(n=parseInt(a/60),a=parseInt(a%60)));var i=parseInt(s)+"s";return a>0&&(i=parseInt(a)+"m"+i),n>0&&(i=parseInt(n)+"h"+i),i},onLanguageSelected:function(t){this.$store.commit("set_language",t),"zh"===t?this.$message.success("语言切换成功"):this.$message.success("switch language success")},onUserSelected:function(t){var e=this;"exit"===t&&this.$axios.post("/signout").then(function(t){e.$message.success(t.data.message),e.$store.commit("SET_LOGOUT"),e.$router.push("/login")})},getBreadcrumb:function(){this.breadcrumb=this.$route.matched.filter(function(t){return t.name})}}},d=l,u=(s("0015"),s("2877")),m=Object(u["a"])(d,i,r,!1,null,null,null);m.options.__file="header.vue";var f=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vue-position-sticky",{attrs:{"sticky-class":"sticky-class"}},[s("el-aside",{attrs:{id:"side",width:"180px"}},[s("el-menu",{attrs:{id:"menuItem","default-active":t.$route.name,"default-openeds":t.defaultOpeneds,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#42b983"}},[s("my-side-item",{attrs:{json:t.filterRoutes}})],1),s("router-view",{staticStyle:{"background-color":"#304156"},attrs:{name:"sideOption"}})],1)],1)},p=[],g=s("a18c"),v={name:"my-side",data:function(){return{filterRoutes:[],defaultOpeneds:[]}},created:function(){this.filterRoutes=this.handleRoutes(g["b"])},methods:{handleRoutes:function(t){var e=this,s=t.filter(function(t){if(t.name){if(t.meta){if(t.meta.hidden)return!1;t.meta.open&&e.defaultOpeneds.push(t.name)}return t.children&&(t.children=e.handleRoutes(t.children)),!0}return!1});return s}}},b=v,_=(s("f296"),Object(u["a"])(b,h,p,!1,null,null,null));_.options.__file="side.vue";var y=_.exports,$={name:"index",components:{myHeader:f,mySide:y}},w=$,C=(s("e92b"),Object(u["a"])(w,a,n,!1,null,null,null));C.options.__file="index.vue";e["default"]=C.exports},ab4a:function(t,e,s){},e92b:function(t,e,s){"use strict";var a=s("ab4a"),n=s.n(a);n.a},ee5f:function(t,e,s){},f296:function(t,e,s){"use strict";var a=s("369d"),n=s.n(a);n.a}}]);