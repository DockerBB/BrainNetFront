(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37429f0d"],{2030:function(t,e,a){},"34cc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:t.background,attrs:{id:"gretna"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{staticStyle:{width:"auto!important"},attrs:{type:"flex"}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"350px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.GlobalNetworkMetrics.title))]),a("div",{staticStyle:{float:"right",padding:"3px 0"}},[a("el-button",{attrs:{icon:"el-icon-arrow-right",circle:""},on:{click:function(e){t.inputOption(t.GlobalNetworkMetrics)}}})],1)]),t._l(t.GlobalNetworkMetrics.item,function(e,i){return a("div",{key:i,staticClass:"text item"},[a("el-radio",{attrs:{label:i,disabled:t.GlobalNetworkMetrics.showable[i]},model:{value:t.GlobalNetworkMetrics.selected,callback:function(e){t.$set(t.GlobalNetworkMetrics,"selected",e)},expression:"GlobalNetworkMetrics.selected"}},[t._v(t._s(e))])],1)})],2),a("el-card",{staticClass:"box-card",staticStyle:{height:"450px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.NodalandModularNetworkMetrics.title))]),a("div",{staticStyle:{float:"right",padding:"3px 0"}},[a("el-button",{attrs:{icon:"el-icon-arrow-right",circle:""},on:{click:function(e){t.inputOption(t.NodalandModularNetworkMetrics)}}})],1)]),t._l(t.NodalandModularNetworkMetrics.item,function(e,i){return a("div",{key:i,staticClass:"text item"},[a("el-radio",{attrs:{label:i,disabled:t.NodalandModularNetworkMetrics.showable[i]},model:{value:t.NodalandModularNetworkMetrics.selected,callback:function(e){t.$set(t.NodalandModularNetworkMetrics,"selected",e)},expression:"NodalandModularNetworkMetrics.selected"}},[t._v(t._s(e))])],1)})],2)],1),a("el-card",{staticClass:"box-card",staticStyle:{height:"800px"}},[a("div",{staticClass:"clearfix",staticStyle:{height:"60px"},attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{float:"left",padding:"3px 0"},attrs:{hidden:2!==t.active}},[a("el-button",{attrs:{icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.removeOption()}}})],1),a("el-steps",{attrs:{active:t.active,"process-status":"process","align-center":""}},[a("el-step",{attrs:{title:"select Matrix"},nativeOn:{click:function(e){return function(){return t.active=1}()}}}),a("el-step",{attrs:{title:"select Attribute"},nativeOn:{click:function(e){return function(){return t.active=2}()}}}),a("el-step",{attrs:{title:"Run"},nativeOn:{click:function(e){return function(){return t.active=""===t.mtextarea?t.active:3}()}}})],1)],1),a("el-scrollbar",{staticStyle:{height:"740px"},attrs:{id:"scrollpanel"}},[a("div",{attrs:{hidden:1!==t.active}},[a("el-row",[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"Search By File Name","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"danger"},on:{click:t.handleBatchDelete}},[t._v("Batch Delete "),a("i",{staticClass:"el-icon-delete"})])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataList,type:"selection","max-height":"280","default-sort":{prop:"name",order:"ascending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"file",prop:"name"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handlePreview(e.row)}}},[t._v("Preview")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px","margin-left":"30px"},attrs:{size:"small",type:"primary",round:""},on:{click:t.handleUpload}},[a("i",{staticClass:"iconfont icon-wenjianshangchuan"})]),a("el-autocomplete",{staticStyle:{float:"left","margin-top":"10px",width:"350px"},attrs:{"fetch-suggestions":t.querySearch,placeholder:"task name"},model:{value:t.taskname,callback:function(e){t.taskname=e},expression:"taskname"}},[a("span",{staticStyle:{color:"black"},attrs:{slot:"prepend"},slot:"prepend"},[t._v("Select or Create a Task")])]),t._v("\n                    "+t._s(t.translations("uploadtip"))+"\n                    "),a("h3",[t._v("Result of last submit")]),t._l(t.historyResult,function(e,i){return t.historyResult.length>0?a("div",{key:i},[a("li",[a("a",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.showResult(e.uri+"/"+e.name+".mat",e.name+".mat")}}},[t._v(t._s(e.name))]),a("br"),a("br")])]):t._e()})],2),a("el-form",{staticStyle:{"min-height":"1030px"},attrs:{inline:!0,model:t.NetworkConfiguration,hidden:t.NetworkCard.optionCount<1||1===t.active}},[a("p",{staticClass:"item text"},[t._v(" . Sign of Matrix")]),a("el-form-item",{attrs:{label:" . . Sign:  "}},[a("el-select",{model:{value:t.NetworkConfiguration.signType,callback:function(e){t.$set(t.NetworkConfiguration,"signType",e)},expression:"NetworkConfiguration.signType"}},[a("el-option",{attrs:{label:"Postive",value:1}}),a("el-option",{attrs:{label:"Nagtive",value:2}}),a("el-option",{attrs:{label:"Absolute",value:3}})],1)],1),a("p",{staticClass:"item text"},[t._v(" . Thresholding Method")]),a("el-form-item",{attrs:{label:" . . Method:  "}},[a("el-select",{model:{value:t.NetworkConfiguration.thresMethod,callback:function(e){t.$set(t.NetworkConfiguration,"thresMethod",e)},expression:"NetworkConfiguration.thresMethod"}},[a("el-option",{attrs:{label:"Network Sparsity",value:1}}),a("el-option",{attrs:{label:"Value of Matrix Elemnt",value:2}})],1)],1),a("el-form-item",{attrs:{label:" . . Threshold Sequence:  "}},[a("el-input",{model:{value:t.thresField,callback:function(e){t.thresField=e},expression:"thresField"}})],1),a("p",{staticClass:"item text"},[t._v(" . Network Type")]),a("el-form-item",{attrs:{label:" . . Type:  "}},[a("el-select",{model:{value:t.NetworkConfiguration.netType,callback:function(e){t.$set(t.NetworkConfiguration,"netType",e)},expression:"NetworkConfiguration.netType"}},[a("el-option",{attrs:{label:"Binary",value:1}}),a("el-option",{attrs:{label:"Weighted",value:2}})],1)],1),a("div",{staticStyle:{height:"100px"}},[a("div",{attrs:{hidden:t.GlobalNetworkMetrics.showable.reduce(function(t,e){return!0===e?t+1:t+0},0)<1}},[a("p",{staticClass:"item text"},[t._v(" . Random Network Generation")]),a("el-form-item",{attrs:{label:" . . Random Network Number:  "}},[a("el-input",{attrs:{value:t.NetworkConfiguration.randNetworkNum}})],1)],1)]),a("div",{attrs:{hidden:t.GlobalNetworkMetrics.showable.reduce(function(t,e){return!0===e?t+1:t+0},0)<1}},[a("hr"),a("strong",{staticClass:"item text"},[t._v(t._s(t.GlobalNetworkMetrics.title))]),a("hr"),t._l(t.GlobalNetworkMetrics.item,function(e,i){return a("div",{key:i,staticClass:"text item"},[a("el-radio",{attrs:{label:i,hidden:!t.GlobalNetworkMetrics.showable[i]},model:{value:t.GlobalNetworkMetrics.selected,callback:function(e){t.$set(t.GlobalNetworkMetrics,"selected",e)},expression:"GlobalNetworkMetrics.selected"}},[t._v(t._s(e))])],1)})],2),a("div",{attrs:{hidden:t.NodalandModularNetworkMetrics.showable.reduce(function(t,e){return!0===e?t+1:t+0},0)<1}},[a("hr"),a("strong",{staticClass:"item text"},[t._v(t._s(t.NodalandModularNetworkMetrics.title))]),a("hr"),t._l(t.NodalandModularNetworkMetrics.item,function(e,i){return a("div",{key:i,staticClass:"text item"},[a("el-radio",{attrs:{label:i,hidden:!t.NodalandModularNetworkMetrics.showable[i]},model:{value:t.NodalandModularNetworkMetrics.selected,callback:function(e){t.$set(t.NodalandModularNetworkMetrics,"selected",e)},expression:"NodalandModularNetworkMetrics.selected"}},[t._v(t._s(e))]),"Nodal - Community Index"===t.NodalandModularNetworkMetrics.item[i]?a("div",{staticStyle:{"margin-left":"20px"},attrs:{label:i,hidden:!t.NodalandModularNetworkMetrics.showable[i]}},[a("p",{staticClass:"item text"},[t._v(" . . Modularity Algorithm:")]),a("el-select",{model:{value:t.NetworkConfiguration.modulAlgor,callback:function(e){t.$set(t.NetworkConfiguration,"modulAlgor",e)},expression:"NetworkConfiguration.modulAlgor"}},[a("el-option",{attrs:{label:"Modified Greedy Optimization",value:1}}),a("el-option",{attrs:{label:"Spectral Optimization",value:2}})],1),a("p",{staticClass:"item text"},[t._v(" . . Estimating Participant Coefficient:")]),a("el-select",{model:{value:t.NetworkConfiguration.dDPcFlag,callback:function(e){t.$set(t.NetworkConfiguration,"dDPcFlag",e)},expression:"NetworkConfiguration.dDPcFlag"}},[a("el-option",{attrs:{label:"TRUE",value:1}}),a("el-option",{attrs:{label:"FALSE",value:2}})],1)],1):t._e(),"Nodal - Participant Coefficient"===t.NodalandModularNetworkMetrics.item[i]||"Modular - Interaction"===t.NodalandModularNetworkMetrics.item[i]?a("div",{staticStyle:{"margin-left":"20px"},attrs:{label:i,hidden:!t.NodalandModularNetworkMetrics.showable[i]}},[a("p",{staticClass:"item text"},[t._v(" . . Community Index:")]),a("el-input",{attrs:{placeholder:"<-X"},model:{value:t.cIndexField,callback:function(e){t.cIndexField=e},expression:"cIndexField"}})],1):t._e()],1)})],2),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{hidden:""===t.mtextarea},on:{click:function(){return t.runDialogTableVisible=!0}}},[t._v("Report")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("RUN")])],1)],1),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")],1)],1)],1),a("el-dialog",{attrs:{title:t.translations("displayDiagTitle"),visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-checkbox-group",{model:{value:t.checkboxGroup,callback:function(e){t.checkboxGroup=e},expression:"checkboxGroup"}},[a("el-checkbox-button",{attrs:{label:"Chord Graph"}}),a("el-checkbox-button",{attrs:{label:"Heat Map Graph"}}),a("el-select",{staticStyle:{float:"right"},attrs:{placeholder:"atlas"},model:{value:t.atlasData,callback:function(e){t.atlasData=e},expression:"atlasData"}},t._l(t.atlasOptions,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}))],1),a("div",{attrs:{hidden:-1===t.checkboxGroup.indexOf("Chord Graph")}},[a("chord",{attrs:{"chord-data":t.chordData,atlas:t.atlasData,size:500}})],1),a("div",{attrs:{hidden:-1===t.checkboxGroup.indexOf("Heat Map Graph")}},[a("heatmap",{attrs:{"heatmap-data":t.heatmapData,size:500}})],1)],1),a("el-dialog",{attrs:{title:"MATLAB REPORT",visible:t.runDialogTableVisible},on:{"update:visible":function(e){t.runDialogTableVisible=e}}},[a("div",{staticStyle:{"white-space":"pre-wrap"}},[a("p",{domProps:{innerHTML:t._s(t.mtextarea)},on:{click:function(e){t.handlelink(e)}}})])]),a("el-dialog",{attrs:{title:"COMPUTE RESULT {"+t.downloadName+"}",visible:t.resultDialogVisible},on:{"update:visible":function(e){t.resultDialogVisible=e}}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:20},readonly:!0},model:{value:t.resultData,callback:function(e){t.resultData=e},expression:"resultData"}}),a("a",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(e){t.downloadResult(t.downloadUrl,t.downloadName)}}},[t._v("download")])],1)],1)},l=[],n=(a("386d"),a("7f7f"),a("6b54"),a("ac6a"),a("a481"),a("4917"),a("6762"),a("2fdb"),a("cadf"),a("551c"),a("097d"),a("b775"),a("4dd1")),o=a("6b43"),s={zh:{netAnalysis:{uploadtip:"只能上传txt/egde/excel/csv文件",displayDiagTitle:"网络可视化",importMatrix:"导入矩阵"}},en:{netAnalysis:{uploadtip:"Only submit matrix as txt/egde/excel/csv types.",displayDiagTitle:"Network Viewer",importMatrix:"import matrix"}}},r=a("0be3"),c=a("799c"),d=a("31c5"),u=a("5e76"),h="netAnalysis",f=[{name:"Edge_AAL90_Binary.edge",uri:"/public/AAL90/Edge_AAL90_Binary.edge",isPubllic:!0},{name:"Edge_Fair34_Binary.edge",uri:"/public/Fair34/Edge_Fair34_Binary.edge",isPubllic:!0}],p={name:"gretna",components:{Heatmap:d["a"],Chord:c["a"]},data:function(){return{background:{backgroundImage:"url("+a("6a07")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat"},dialogTitle:"display matrx",FileTableVisible:!1,dialogTableVisible:!1,runDialogTableVisible:!1,resultDialogVisible:!1,atlasOptions:[{label:"AAL90",value:r["h"]},{label:"Brodmann82",value:r["a"]},{label:"CustomROI6",value:r["b"]},{label:"Desikan-Killiany68",value:r["c"]},{label:"Dos160",value:r["d"]},{label:"Fair34",value:r["e"]},{label:"HOA112",value:r["f"]},{label:"LPBA56",value:r["g"]}],active:1,chordData:null,heatmapData:null,resultData:"",atlasData:[],checkboxGroup:[],mtextarea:"",thresField:"",cIndexField:"",search:"",checkAll:!1,historyResult:[],downloadUrl:"",downloadName:"",taskname:"",taskList:[],NetworkCard:{title:"Network Configuration",optionCount:0,globalOptionCount:0,nodalOptionCount:0,selected:0},NetworkConfiguration:{selPreInd:[],selPostInd:[],signType:1,thresMethod:1,thresSequence:[],netType:1,randNetworkNum:100,clustAlgor:1,modulAlgor:1,dDPcFlag:1,realNetURI:[],cIndex:[0]},GlobalNetworkMetrics:{title:"Global Network Metrics",selected:0,showable:[!1,!1,!1,!1,!1,!1],resultShow:[!1,!1,!1,!1,!1,!1],item:["Global - Small-World","Global - Efficiency","Global - Rich-Club","Global - Assortativity","Global - Synchronization","Global - Hierarchy"],resultFile:["SmallWorld","NetworkEfficiency","RichClub","Assortativity","Synchronization","Hierarchy"]},NodalandModularNetworkMetrics:{title:"Nodal and Modular Network Metrics",selected:0,showable:[!1,!1,!1,!1,!1,!1,!1,!1,!1],resultShow:[!1,!1,!1,!1,!1,!1,!1,!1,!1],item:["Nodal - Clustering Coefficient","Nodal - Shortest Path Length","Nodal - Efficiency","Nodal - Local Efficiency","Nodal - Degree Centrality","Nodal - Betweenness Centrality","Nodal - Community Index","Nodal - Participant Coefficient","Modular - Interaction"],resultFile:["NodalClustCoeff","NodalShortestPath","NodalEfficiency","NodalLocalEfficiency","DegreeCentrality","BetweennessCentrality","CommunityIndex","ParticipantCoefficient","ModularInteraction"]},fileList:[],tableDataList:[]}},watch:{"$store.state.netAnalysis.netAnalysisState":function(){var t=this;this.historyResult=[],"finish"===this.$store.state.netAnalysis.netAnalysisState&&this.$axios.get("/getdirlist/netAnalysis/"+this.taskname+"/result").then(function(e){t.historyResult=e.data.data})},"$store.state.outputText":function(){this.runDialogTableVisible=!0;var t=this.$store.state.outputText;if(t.includes("completed")){var e=/\s(\w+)(\d{5})\s/,a=t.match(e);if(a){var i=this.NetworkConfiguration.realNetURI[parseInt(t.match(e)[2])-1];i=i.substring(i.lastIndexOf("/")+1,i.indexOf(".")),this.mtextarea+="\n"+t.replace(e,' <a name="'+i+'" style="cursor: pointer">$1$2</a> ')}}else this.mtextarea+="\n"+t},taskname:function(){var t=this;if(""!==this.taskname){var e=[];if(this.taskList.forEach(function(t){return e.push(t.value)}),e.indexOf(this.taskname)<0)return this.fileList=[],this.historyResult=[],void this.updateTableDataList();this.handleSuccess(),this.$axios.get("/getdirlist/netAnalysis/"+this.taskname+"/result").then(function(e){t.historyResult=e.data.data})}},search:function(){this.updateTableDataList()}},created:function(){this.thresField=[.05,.1,.15,.2,.25,.3,.35,.4,.45,.5].toString(),this.cIndexField=[0].toString(),this.initLocal()},mounted:function(){var t=this;"public"!==this.$store.state.user.nickname&&this.$axios.get("/getdirlist/netAnalysis").then(function(e){var a=[];e.data.data.forEach(function(t){return a.push({value:t.name})}),t.taskList=a,t.taskname=0===a.length?"default":a[0].value})},methods:{inputOption:function(t){if(this.active=2,!(t.selected>=t.item.length)){for(t.showable[t.selected]=!0,t.selected=0;t.showable[t.selected];t.selected++);this.updateOptionCount()}},removeOption:function(){var t=this.GlobalNetworkMetrics,e=this.NodalandModularNetworkMetrics;if(t.showable[t.selected])for(t.showable[t.selected]=!1,t.selected=0;!1===t.showable[t.selected];t.selected++);if(e.showable[e.selected])for(e.showable[e.selected]=!1,e.selected=0;!1===e.showable[e.selected];e.selected++);this.updateOptionCount()},updateOptionCount:function(){this.NetworkCard.globalOptionCount=this.GlobalNetworkMetrics.showable.reduce(function(t,e){return!0===e?t+1:t+0},0),this.NetworkCard.nodalOptionCount=this.NodalandModularNetworkMetrics.showable.reduce(function(t,e){return!0===e?t+1:t+0},0),this.NetworkCard.optionCount=this.NetworkCard.globalOptionCount+this.NetworkCard.nodalOptionCount},onSubmit:function(){var t=this,e=this.GlobalNetworkMetrics,a=this.NodalandModularNetworkMetrics;this.NetworkConfiguration.selPreInd=[],this.NetworkConfiguration.selPostInd=[],this.NetworkConfiguration.thresSequence=JSON.parse("["+this.thresField+"]"),this.NetworkConfiguration.cIndex=JSON.parse("["+this.cIndexField+"]");for(var i=this.NetworkConfiguration.selPreInd=[],l=this.NetworkConfiguration.selPostInd=[],n=0;n<e.item.length;n++)e.showable[n]&&(i[i.length]=n+1);for(var s=0;s<a.item.length;s++)a.showable[s]&&(l[l.length]=s+1);0!==this.NetworkConfiguration.realNetURI.length?(e.resultShow=e.showable.slice(0),a.resultShow=a.showable.slice(0),this.active=3,this.$store.state.netAnalysis.time=0,this.$axios.post("/gretna/"+this.taskname+"/"+o["a"].getToken(),this.NetworkConfiguration).then(function(e){return t.$message({message:e.data.message,type:"info"})}),this.mtextarea=""):(this.$message({message:"There was no matrix yet",type:"warning"}),this.active=1)},loadAtlas:function(){var t=document.createElement("input"),e=this;return t.type="file",t.accept=".mat",t.onchange=function(t){var a=t.target.files[0],i=new FileReader;return i.onload=function(t){i.result,e.atlasData=["PreCG.L","PreCG.R","SFGdor.L","SFGdor.R","ORBsup.L","ORBsup.R","MFG.L","MFG.R","ORBmid.L","ORBmid.R","IFGoperc.L","IFGoperc.R","IFGtriang.L","IFGtriang.R","ORBinf.L","ORBinf.R","ROL.L","ROL.R","SMA.L","SMA.R","OLF.L","OLF.R","SFGmed.L","SFGmed.R","ORBsupmed.L","ORBsupmed.R","REC.L","REC.R","INS.L","INS.R","ACG.L","ACG.R","DCG.L","DCG.R","PCG.L","PCG.R","HIP.L","HIP.R","PHG.L","PHG.R","AMYG.L","AMYG.R","CAL.L","CAL.R","CUN.L","CUN.R","LING.L","LING.R","SOG.L","SOG.R","MOG.L","MOG.R","IOG.L","IOG.R","FFG.L","FFG.R","PoCG.L","PoCG.R","SPG.L","SPG.R","IPL.L","IPL.R","SMG.L","SMG.R","ANG.L","ANG.R","PCUN.L","PCUN.R","PCL.L","PCL.R","CAU.L","CAU.R","PUT.L","PUT.R","PAL.L","PAL.R","THA.L","THA.R","HES.L","HES.R","STG.L","STG.R","TPOsup.L","TPOsup.R","MTG.L","MTG.R","TPOmid.L","TPOmid.R","ITG.L","ITG.R"]},i.readAsText(a),!1},t.click(),"My Atlas"},showResult:function(t,e){this.resultDialogVisible=!0;var a=this;a.resultData="",a.downloadUrl=t,a.downloadName=void 0===e?"result.mat":e,fetch("http:"+window.g.API_URL+t,{headers:{Accept:"application/octet-stream","content-type":"application/octet-stream"},method:"GET",credentials:"include"}).then(function(t){return t.arrayBuffer()}).then(function(t){t&&(a.resultData=new u["a"](t).toJSON())})},downloadResult:function(t,e){fetch("http:"+window.g.API_URL+t,{headers:{Accept:"application/octet-stream","content-type":"application/octet-stream"},method:"GET",credentials:"include"}).then(function(t){return t.blob()}).then(function(t){if(t){var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e,a.click(),window.URL.revokeObjectURL(a.href)}})},handlePreview:function(t){var e=this,a=t.uri,i=a.substring(a.lastIndexOf("."));if(".txt"===i||".edge"===i||".csv"===i)this.$axios.get(a).then(function(t){if(t.data){var a=t.data;e.chordData={matrix:(new n["a"]).loadMatrix(a)},e.heatmapData={data:(new n["a"]).loadAList(a)}}});else{if(".mat"!==i)return void this.$message({message:"This type of matrix(*"+i+") dose not support visualization",type:"info"});fetch("http:"+window.g.API_URL+a,{headers:{Accept:"application/octet-stream","content-type":"application/octet-stream"},method:"GET",credentials:"include"}).then(function(t){return t.arrayBuffer()}).then(function(t){if(t){var a=new u["a"](t).data[0].data,i=[],l=[],n=[];a.forEach(function(t,e){t.forEach(function(t,a){i.push([e,a,t])}),l.push(Math.max.apply(Math,t)),n.push(Math.min.apply(Math,t))}),l=Math.max.apply(Math,l),n=Math.min.apply(Math,n),console.log(l,n),e.chordData={matrix:a},e.heatmapData={data:{n:a.length,max:l,min:n,list:i}}}})}this.dialogTableVisible=!0},handleSuccess:function(){var t=this;this.fileList=[],this.$axios.get("/getfilelist/netAnalysis/"+this.taskname+"/FCMatrixR").then(function(e){t.fileList=e.data.data,t.updateTableDataList()}).catch(function(){return t.updateTableDataList()})},handleUpload:function(t){var e=this,a=[],i=document.createElement("input");function l(){if(0===a.length)return e.$message.success("upload success"),e.handleSuccess(),void e.$axios.get("/getdirlist/netAnalysis").then(function(t){var a=[];t.data.data.forEach(function(t){return a.push({value:t.name})}),e.taskList=a});var t=a.pop(),i=new FormData;i.append("uploadfile",t,encodeURIComponent(e.taskname+"/FCMatrixR/"+t.name)),e.$axios.post("/uploadfiles/netAnalysis",i).then(function(){return l()}).catch(function(t){return e.$message.error(t)})}i.type="file",i.multiple="multiple",i.accept=".txt,.edge,.csv,.xlsx,.xlsx,.mat",i.onchange=function(t){for(var e=t.target.files,i=0;i<e.length;i++)a.push(e[i]);l()},i.click()},handleSelectionChange:function(t){var e=[];this.NetworkConfiguration.realNetURI=e,t.forEach(function(t){return e.push(t.uri)})},handleDelete:function(t){var e=this;if(t.isPubllic){var a=this.tableDataList;this.tableDataList=[],a.filter(function(e){return e.name!==t.name}).forEach(function(t){return e.tableDataList.push(t)})}else this.$confirm("确定从服务器移除文件 ".concat(t.name,"？")).then(function(){e.$axios.delete(t.uri).then(function(t){e.handleSuccess()}).catch(function(){return e.handleSuccess()})}).catch(function(){})},handleBatchDelete:function(){var t=this,e=[];console.log(this.NetworkConfiguration.realNetURI),this.NetworkConfiguration.realNetURI.forEach(function(t){return e.push(t.replace("/MyFile",""))}),this.$confirm("确定从服务器移除这".concat(e.length,"个文件")).then(function(){t.$axios.post("/deleteFile",e).then(function(e){console.log(e.data.data),t.handleSuccess()}).catch(function(){return t.handleSuccess()})}).catch(function(){})},handlelink:function(t){if("A"===t.target.nodeName){var e=t.target.name,a=t.target.innerText,i="/MyFile/netAnalysis/"+this.taskname+"/result/"+e;a.includes("ThresMat")&&this.showResult(i+"/RealNet.mat",e+"-RealNet.mat"),a.includes("GenRandNet")&&this.downloadResult(i+"/RandNet.mat",e+"-RandNet.mat"),a.includes("SmallWorld")&&this.showResult(i+"/SW.mat",e+"-SW.mat"),a.includes("GEfficiency")&&this.showResult(i+"/EFF.mat",e+"-EFF.mat"),a.includes("RichClub")&&this.showResult(i+"/RC.mat",e+"-RC.mat"),a.includes("Assortativity")&&this.showResult(i+"/ASS.mat",e+"-ASS.mat"),a.includes("Synchronization")&&this.showResult(i+"/SYN.mat",e+"-SYN.mat"),a.includes("Hierarchy")&&this.showResult(i+"/HIE.mat",e+"-HIE.mat"),a.includes("NodalClustCoeff")&&this.showResult(i+"/NCP.mat",e+"-NCP.mat"),a.includes("NodalShortestPath")&&this.showResult(i+"/NLP.mat",e+"-NLP.mat"),a.includes("NodalEfficiency")&&this.showResult(i+"/NE.mat",e+"-NE.mat"),a.includes("NodalLocalEfficiency")&&this.showResult(i+"/NLE.mat",e+"-NLE.mat"),a.includes("DegreeCentrality")&&this.showResult(i+"/DC.mat",e+"-DC.mat"),a.includes("BetweennessCentrality")&&this.showResult(i+"/BC.mat",e+"-BC.mat"),a.includes("CommunityIndex")&&this.showResult(i+"/CI.mat",e+"-CI.mat"),a.includes("CommunityIndex")&&this.showResult(i+"/PC.mat",e+"-PC.mat"),a.includes("ModularInteraction")&&this.showResult(i+"/MI.mat",e+"-MI.mat")}},querySearch:function(t,e){var a=this.taskList,i=t?a.filter(function(e){return!t||e.value.toLowerCase().includes(t.toLowerCase())}):a;e(i)},updateTableDataList:function(){var t=this;this.tableDataList=[],0===this.taskList.length&&f.forEach(function(e){return t.tableDataList.push(e)}),this.fileList.filter(function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())}).forEach(function(e){return t.tableDataList.push(e)})},initLocal:function(){this.$te(h)||(this.$i18n.mergeLocaleMessage("zh",s.zh),this.$i18n.mergeLocaleMessage("en",s.en))},translations:function(t){return this.$t(h+"."+t)}}},m=p,b=(a("f380"),a("2877")),w=Object(b["a"])(m,i,l,!1,null,null,null);w.options.__file="gretna.vue";e["default"]=w.exports},f380:function(t,e,a){"use strict";var i=a("2030"),l=a.n(i);l.a}}]);